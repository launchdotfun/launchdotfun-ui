import { EPresaleOnchainState, type TPresale } from "./types";

const hoursFromNow = (hours: number) => new Date(Date.now() + hours * 3600 * 1000).toISOString();
const weiScale = 1_000_000_000n;
const toWei = (eth: number) => (BigInt(Math.round(eth * 1_000_000_000)) * weiScale).toString();

const makeAddressFactory = (base: bigint) => (offset: number) =>
  `0x${(base + BigInt(offset)).toString(16).padStart(40, "0")}`;

const presaleAddressFor = makeAddressFactory(0xaaaa000000000000000000000000000000000000n);
const zTokenAddressFor = makeAddressFactory(0xbbbb000000000000000000000000000000000000n);
const creatorAddressFor = makeAddressFactory(0xc0ffee0000000000000000000000000000000000n);
const tokenAddressFor = makeAddressFactory(0xdddd000000000000000000000000000000000000n);

const basePresales: TPresale[] = [
  {
    id: 1,
    thumbnail: null,
    name: "Launch Confidential Pioneers",
    description: "A community-driven launch for powering creator tools across the launch.fun ecosystem.",
    startTime: hoursFromNow(-24),
    endTime: hoursFromNow(24),
    token: {
      address: "0x1111111111111111111111111111111111111111",
      name: "Launch Pioneer Token",
      symbol: "ZAMA",
      decimals: 18,
      totalSupply: "100000000000000000000000000",
      icon: null,
      creator: "0xc0ffee0000000000000000000000000000000001",
      usedAt: null,
    },
    softCap: "5000000000000000000",
    hardCap: "15000000000000000000",
    presaleRate: "200000000000000000000",
    tokensForSale: "4000000000000000000000000",
    tokensForLiquidity: "2000000000000000000000000",
    liquidityPercent: 70,
    status: EPresaleOnchainState.ACTIVE,
    presaleAddress: "0xaaaa000000000000000000000000000000000001",
    zTokenAddress: "0xbbbb000000000000000000000000000000000001",
    creator: "0xc0ffee0000000000000000000000000000000001",
    txHash: "0xhashzamapioneers",
    raisedAmount: "8200000000000000000",
    social: {
      website: "https://launch.fun/pioneers",
      twitter: "https://twitter.com/zama_fhe",
      telegram: "https://t.me/zama_fun",
      discord: null,
      medium: null,
    },
    createdAt: hoursFromNow(-72),
    updatedAt: hoursFromNow(-1),
    deletedAt: null,
  },
  {
    id: 2,
    thumbnail: null,
    name: "Metaverse Grove",
    description: "Funding immersive social hubs with verifiable ownership for every avatar.",
    startTime: hoursFromNow(12),
    endTime: hoursFromNow(60),
    token: {
      address: "0x2222222222222222222222222222222222222222",
      name: "Metaverse Grove",
      symbol: "GROVE",
      decimals: 18,
      totalSupply: "50000000000000000000000000",
      icon: null,
      creator: "0xc0ffee0000000000000000000000000000000002",
      usedAt: null,
    },
    softCap: "3000000000000000000",
    hardCap: "8000000000000000000",
    presaleRate: "50000000000000000000",
    tokensForSale: "2000000000000000000000000",
    tokensForLiquidity: "1000000000000000000000000",
    liquidityPercent: 60,
    status: EPresaleOnchainState.ACTIVE,
    presaleAddress: "0xaaaa000000000000000000000000000000000002",
    zTokenAddress: "0xbbbb000000000000000000000000000000000002",
    creator: "0xc0ffee0000000000000000000000000000000002",
    txHash: "0xhashmetaversegrove",
    raisedAmount: "0",
    social: {
      website: "https://metaversegrove.xyz",
      twitter: "https://twitter.com/metaversegrove",
      telegram: null,
      discord: null,
      medium: null,
    },
    createdAt: hoursFromNow(-12),
    updatedAt: hoursFromNow(-12),
    deletedAt: null,
  },
  {
    id: 3,
    thumbnail: null,
    name: "Vault Runner",
    description: "Retro-inspired game economy with provable scarcity and shared rewards.",
    startTime: hoursFromNow(-240),
    endTime: hoursFromNow(-120),
    token: {
      address: "0x3333333333333333333333333333333333333333",
      name: "Vault Runner",
      symbol: "VAULT",
      decimals: 18,
      totalSupply: "75000000000000000000000000",
      icon: null,
      creator: "0xc0ffee0000000000000000000000000000000003",
      usedAt: null,
    },
    softCap: "4000000000000000000",
    hardCap: "10000000000000000000",
    presaleRate: "100000000000000000000",
    tokensForSale: "3000000000000000000000000",
    tokensForLiquidity: "1500000000000000000000000",
    liquidityPercent: 65,
    status: EPresaleOnchainState.FINALIZED,
    presaleAddress: "0xaaaa000000000000000000000000000000000003",
    zTokenAddress: "0xbbbb000000000000000000000000000000000003",
    creator: "0xc0ffee0000000000000000000000000000000003",
    txHash: "0xhashvaultrunner",
    raisedAmount: "12000000000000000000",
    social: {
      website: "https://vaultrunner.gg",
      twitter: "https://twitter.com/vaultrunner",
      telegram: "https://t.me/vaultrunner",
      discord: null,
      medium: null,
    },
    createdAt: hoursFromNow(-260),
    updatedAt: hoursFromNow(-100),
    deletedAt: null,
  },
  {
    id: 4,
    thumbnail: null,
    name: "Cipher Garden",
    description: "Tokenized regenerative farming backed by confidential yield analytics.",
    startTime: hoursFromNow(-6),
    endTime: hoursFromNow(36),
    token: {
      address: "0x4444444444444444444444444444444444444444",
      name: "Cipher Garden",
      symbol: "GARDEN",
      decimals: 18,
      totalSupply: "42000000000000000000000000",
      icon: null,
      creator: "0xc0ffee0000000000000000000000000000000004",
      usedAt: null,
    },
    softCap: "2000000000000000000",
    hardCap: "9000000000000000000",
    presaleRate: "80000000000000000000",
    tokensForSale: "1800000000000000000000000",
    tokensForLiquidity: "900000000000000000000000",
    liquidityPercent: 65,
    status: EPresaleOnchainState.ACTIVE,
    presaleAddress: "0xaaaa000000000000000000000000000000000004",
    zTokenAddress: "0xbbbb000000000000000000000000000000000004",
    creator: "0xc0ffee0000000000000000000000000000000004",
    txHash: "0xhashciphergarden",
    raisedAmount: "4500000000000000000",
    social: {
      website: "https://launch.fun/garden",
      twitter: "https://twitter.com/zama_fhe",
      telegram: null,
      discord: null,
      medium: null,
    },
    createdAt: hoursFromNow(-24),
    updatedAt: hoursFromNow(-2),
    deletedAt: null,
  },
  {
    id: 5,
    thumbnail: null,
    name: "Obscura AI",
    description: "Confidential inference marketplace for verifiable private AI workloads.",
    startTime: hoursFromNow(-3),
    endTime: hoursFromNow(60),
    token: {
      address: "0x5555555555555555555555555555555555555555",
      name: "Obscura Intelligence",
      symbol: "OBSC",
      decimals: 18,
      totalSupply: "88000000000000000000000000",
      icon: null,
      creator: "0xc0ffee0000000000000000000000000000000005",
      usedAt: null,
    },
    softCap: "7000000000000000000",
    hardCap: "20000000000000000000",
    presaleRate: "40000000000000000000",
    tokensForSale: "3600000000000000000000000",
    tokensForLiquidity: "2200000000000000000000000",
    liquidityPercent: 70,
    status: EPresaleOnchainState.ACTIVE,
    presaleAddress: "0xaaaa000000000000000000000000000000000005",
    zTokenAddress: "0xbbbb000000000000000000000000000000000005",
    creator: "0xc0ffee0000000000000000000000000000000005",
    txHash: "0xhashobscurai",
    raisedAmount: "15000000000000000000",
    social: {
      website: "https://launch.fun/obscura",
      twitter: "https://twitter.com/zama_fhe",
      telegram: "https://t.me/zama_obscura",
      discord: null,
      medium: null,
    },
    createdAt: hoursFromNow(-18),
    updatedAt: hoursFromNow(-1),
    deletedAt: null,
  },
];

const extraActiveConfigs = [
  {
    name: "Nebula Labs",
    symbol: "NEB",
    hardCap: 18,
    raisedPct: 0.52,
    description: "Privacy tooling for zk-analytics.",
  },
  {
    name: "Quartz Flow",
    symbol: "QFLOW",
    hardCap: 12,
    raisedPct: 0.61,
    description: "Streaming marketplace for encrypted data.",
  },
  {
    name: "Aurora Mesh",
    symbol: "AURA",
    hardCap: 20,
    raisedPct: 0.33,
    description: "Confidential IoT coordination layer.",
  },
  {
    name: "Lumen Pay",
    symbol: "LUME",
    hardCap: 14,
    raisedPct: 0.45,
    description: "Payroll rails for shielded assets.",
  },
  {
    name: "Nova Rail",
    symbol: "NOVA",
    hardCap: 16,
    raisedPct: 0.28,
    description: "Game launch rail with invisible bids.",
  },
  {
    name: "Pulse Streams",
    symbol: "PULSE",
    hardCap: 10,
    raisedPct: 0.74,
    description: "Secure telemetry for defi bots.",
  },
  {
    name: "Orbit Relay",
    symbol: "ORBIT",
    hardCap: 22,
    raisedPct: 0.39,
    description: "Cross-chain messaging with private mempools.",
  },
  {
    name: "Prism Bazaar",
    symbol: "PRISM",
    hardCap: 11,
    raisedPct: 0.67,
    description: "NFT swaps with sealed-order books.",
  },
  {
    name: "Echo Forge",
    symbol: "ECHO",
    hardCap: 13,
    raisedPct: 0.58,
    description: "Creator tooling for confidential drops.",
  },
  { name: "Warden Node", symbol: "WARD", hardCap: 17, raisedPct: 0.49, description: "MEV-resistant builder network." },
];

const extraActivePresales: TPresale[] = extraActiveConfigs.map((config, index) => {
  const id = basePresales.length + index + 1;
  const hardCapWei = toWei(config.hardCap);
  const softCapWei = toWei(config.hardCap * 0.4);
  const raisedWei = toWei(config.hardCap * config.raisedPct);
  const start = hoursFromNow(-8 + index);
  const end = hoursFromNow(40 + index * 2);

  return {
    id,
    thumbnail: null,
    name: config.name,
    description: config.description,
    startTime: start,
    endTime: end,
    token: {
      address: tokenAddressFor(id),
      name: `${config.name} Token`,
      symbol: config.symbol,
      decimals: 18,
      totalSupply: "50000000000000000000000000",
      icon: null,
      creator: creatorAddressFor(id),
      usedAt: null,
    },
    softCap: softCapWei,
    hardCap: hardCapWei,
    presaleRate: "50000000000000000000",
    tokensForSale: "1500000000000000000000000",
    tokensForLiquidity: "900000000000000000000000",
    liquidityPercent: 65,
    status: EPresaleOnchainState.ACTIVE,
    presaleAddress: presaleAddressFor(id),
    zTokenAddress: zTokenAddressFor(id),
    creator: creatorAddressFor(id),
    txHash: `0xhash${config.symbol.toLowerCase()}`,
    raisedAmount: raisedWei,
    social: {
      website: `https://launch.fun/${config.symbol.toLowerCase()}`,
      twitter: "https://twitter.com/zama_fhe",
      telegram: null,
      discord: null,
      medium: null,
    },
    createdAt: hoursFromNow(-48 + index),
    updatedAt: hoursFromNow(-1),
    deletedAt: null,
  };
});

export const mockPresales: TPresale[] = [...basePresales, ...extraActivePresales];
